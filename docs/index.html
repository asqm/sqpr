<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Extract and Analyze the Quality of your Survey Questions with SQP • sqpr</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Extract and Analyze the Quality of your Survey Questions with SQP">
<meta property="og:description" content="Using the database of the SQP API, sqpr allows downloading data on the quality of over 40,000 questions, adjust for the Common Method Variance (CMV) of several variables, calculate the quality of the sumscore of several variables and adjust your model estimations for measurement error.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">sqpr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/accesing-sqp-api.html">Accessing the SQP API</a>
    </li>
    <li>
      <a href="articles/case-study-ess.html">Case-study: Correcting for measurement error in the European Social Survey</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    
<div id="sqpr" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#sqpr" class="anchor"></a>sqpr</h1></div>

<!-- # sqpr <img src="/home/jorge/repositories/sqpr/man/figures/sqpr_logo.png" align="right" /> -->
<p>The <code>sqpr</code> package allows you to calculate several estimations of the quality of your survey questions and also adjust your estimations for measurement error. Moreover, it gives easy access to the API of the Survey Quality Prediction <a href="http://sqp.upf.edu/">website</a>, a data base that contains over 40,000 predictions on the quality of questions.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p><code>sqpr</code> is not currently on CRAN but you can install the developing version of from Github with:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># install.packages("devtools")</span>
devtools<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/devtools/topics/reexports">install_github</a></span>(<span class="st">"asqm/sqpr"</span>)</code></pre></div>
</div>
<div id="example" class="section level2">
<h2 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h2>
<div id="registration-and-logging-in" class="section level3">
<h3 class="hasAnchor">
<a href="#registration-and-logging-in" class="anchor"></a>Registration and logging in</h3>
<p>Register in the <a href="http://sqp.upf.edu/accounts/register/">SQP website</a> and confirm your registration through your email.</p>
<p>First, load the package in R and provide your registered credentials.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(sqpr)
<span class="kw"><a href="reference/sqp_login.html">sqp_login</a></span>(<span class="st">'your username'</span>, <span class="st">'your password'</span>)</code></pre></div>
<p>For details on the login process see the <code>Accessing the SQP API vignette</code> from the package.</p>
<p>Once you’ve ran <code><a href="reference/sqp_login.html">sqp_login()</a></code>, you’re all set to work with the SQP API! No need to run it again unless you close the R session.</p>
</div>
</div>
<div id="exploring-the-sqp-api" class="section level2">
<h2 class="hasAnchor">
<a href="#exploring-the-sqp-api" class="anchor"></a>Exploring the SQP API</h2>
<p>You can query all the questions in a specific study to check whether a specific question has quality predictions. Use <code>find_studies</code> to locate the <code>id</code> of a certain study</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ess_four &lt;-<span class="st"> </span><span class="kw"><a href="reference/find_studies.html">find_studies</a></span>(<span class="st">"ESS Round 4"</span>)
ess_four
<span class="co">#&gt; # A tibble: 1 x 2</span>
<span class="co">#&gt;      id name       </span>
<span class="co">#&gt;   &lt;int&gt; &lt;chr&gt;      </span>
<span class="co">#&gt; 1     4 ESS Round 4</span></code></pre></div>
<p>Ok, so we have our <code>study_id</code>. Which questions are in that study? <code>find_questions</code> will do the work for you.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">q_ess &lt;-<span class="st"> </span><span class="kw"><a href="reference/find_questions.html">find_questions</a></span>(ess_four<span class="op">$</span>id, <span class="st">"tv"</span>)</code></pre></div>
<p>That might take a while because it’s downloading all of the data to your computer. However, if you run <code>find_questions</code> (or any other API related function) once, then any repetition should be instant as it loads everything from your computer rather than downloading it again.</p>
<p>Let’s query further down to get questions for a specific question.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">sp_tv &lt;-<span class="st"> </span>q_ess[q_ess<span class="op">$</span>language_iso <span class="op">==</span><span class="st"> "spa"</span>, ]
sp_tv
<span class="co">#&gt; # A tibble: 3 x 5</span>
<span class="co">#&gt;      id study_id short_name country_iso language_iso</span>
<span class="co">#&gt;   &lt;int&gt;    &lt;int&gt; &lt;chr&gt;      &lt;chr&gt;       &lt;chr&gt;       </span>
<span class="co">#&gt; 1  7999        4 TvTot      ES          spa         </span>
<span class="co">#&gt; 2 27699        4 TvPol      ES          spa         </span>
<span class="co">#&gt; 3 27638        4 PrtVtxx    ES          spa</span></code></pre></div>
<p>The hard part is done now. Once we have the <code>id</code> of your questions of interest, we supply it to <code>get_estimates</code> and it will bring the quality predictions for those questions.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">predictions &lt;-<span class="st"> </span><span class="kw"><a href="reference/get_estimates.html">get_estimates</a></span>(sp_tv<span class="op">$</span>id)
predictions
<span class="co">#&gt; # A tibble: 3 x 4</span>
<span class="co">#&gt;   question reliability validity quality</span>
<span class="co">#&gt;   &lt;chr&gt;          &lt;dbl&gt;    &lt;dbl&gt;   &lt;dbl&gt;</span>
<span class="co">#&gt; 1 tvtot          0.713    0.926    0.66</span>
<span class="co">#&gt; 2 tvpol         NA       NA       NA   </span>
<span class="co">#&gt; 3 prtvtxx       NA       NA       NA</span></code></pre></div>
<p><code>get_estimates</code> will return all question names as lower case for increasing the chances of compatibility with the name in the questionnair of the study.</p>
<p><code>sqpr</code> does much more than querying data from the SQP API, such as calculating common method variance of several questions and adjusting correlations for measurement error, among other things. The two vignettes of the package elaborate much more on how to query data and use it in your analysis.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>What license it uses</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Jorge Cimentada <br><small class="roles"> Author, maintainer </small>  </li>
<li>Wiebke Weber <br><small class="roles"> Author </small>  </li>
</ul>
</div>

      <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://cran.r-project.org/package=sqpr"><img src="https://www.r-pkg.org/badges/version/sqpr" alt="CRAN status"></a></li>
<li><a href="https://travis-ci.org/asqm/sqpr"><img src="https://travis-ci.org/asqm/sqpr.svg?branch=master" alt="Travis build status"></a></li>
<li><a href="https://ci.appveyor.com/project/asqm/sqpr"><img src="https://ci.appveyor.com/api/projects/status/github/asqm/sqpr?branch=master&amp;svg=true" alt="AppVeyor build status"></a></li>
<li><a href="https://codecov.io/github/asqm/sqpr?branch=master"><img src="https://codecov.io/gh/asqm/sqpr/branch/master/graph/badge.svg" alt="Coverage status"></a></li>
</ul>
</div>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Jorge Cimentada, Wiebke Weber.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
